{% load humanize%}
<div class="row gx-3 gy-2 align-items-stretch text-white text-start">

  <!-- Pending Card -->
  <div class="col-12 col-md">
    <div class="stat-bar bg-pending" 
         style="cursor:pointer;" 
         onclick="location.href='?{% for key, value in request.GET.items %}{% if key != 'status' %}{{ key }}={{ value }}&{% endif %}{% endfor %}status=Pending'">
      <div class="stat-value">{{ status_counts.pending }}</div>
      <div class="stat-label">Total Pending</div>
      <div class="stat-label">₱{{ status_totals.pending|floatformat:2|intcomma }}</div>
    </div>
  </div>

  <!-- Ongoing Card -->
  <div class="col-12 col-md">
    <div class="stat-bar bg-ongoing" 
         style="cursor:pointer;" 
         onclick="location.href='?{% for key, value in request.GET.items %}{% if key != 'status' %}{{ key }}={{ value }}&{% endif %}{% endfor %}status=Ongoing'">
      <div class="stat-value">{{ status_counts.ongoing }}</div>
      <div class="stat-label">Total Ongoing</div>
      <div class="stat-label">₱{{ status_totals.ongoing|floatformat:2|intcomma }}</div>
    </div>
  </div>

  <!-- Completed Card -->
  <div class="col-12 col-md">
    <div class="stat-bar bg-completed" 
         style="cursor:pointer;" 
         onclick="location.href='?{% for key, value in request.GET.items %}{% if key != 'status' %}{{ key }}={{ value }}&{% endif %}{% endfor %}status=Completed'">
      <div class="stat-value">{{ status_counts.completed }}</div>
      <div class="stat-label">Total Completed</div>
      <div class="stat-label">₱{{ status_totals.completed|floatformat:2|intcomma }}</div>
    </div>
  </div>

  <!-- Cancelled Card -->
  <div class="col-12 col-md">
    <div class="stat-bar bg-cancelled" 
         style="cursor:pointer;" 
         onclick="location.href='?{% for key, value in request.GET.items %}{% if key != 'status' %}{{ key }}={{ value }}&{% endif %}{% endfor %}status=Cancelled'">
      <div class="stat-value">{{ status_counts.cancelled }}</div>
      <div class="stat-label">Total Cancelled</div>
      <div class="stat-label">₱{{ status_totals.cancelled|floatformat:2|intcomma }}</div>
    </div>
  </div>

  <!-- Delayed Card -->
  <div class="col-12 col-md">
    <div class="stat-bar bg-delayed" 
         style="cursor:pointer;" 
         onclick="location.href='?{% for key, value in request.GET.items %}{% if key != 'status' %}{{ key }}={{ value }}&{% endif %}{% endfor %}status=Delayed'">
      <div class="stat-value">{{ status_counts.delayed }}</div>
      <div class="stat-label">Total Delayed</div>
      <div class="stat-label">₱{{ status_totals.delayed|floatformat:2|intcomma }}</div>
    </div>
  </div>

</div>

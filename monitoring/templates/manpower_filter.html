<style>
.filter-section {
  background: #ffffff; /* Changed to a clean white */
  border-radius: 12px; /* A more subtle, modern radius */
  padding: 1.5rem 2rem; /* Generous padding for more breathing room */
  max-width: 100%;
  margin: 0rem auto 0rem auto; /* Consistent top/bottom margin for spacing */
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05); /* A softer, deeper shadow */
  border: 1px solid #f0f0f0; /* A very subtle border */
}

.filter-header {
  font-size: 1rem; /* Larger for better hierarchy */
  font-weight: 600;
  color: #2c3e50; /* A darker, more professional text color */
  margin-bottom: 1.25rem; /* More space below the header */
  padding-bottom: 1rem;
  border-bottom: 1px solid #f0f0f0; /* A subtle separator line */
}

.filter-form {
  display: block;
  width: 100%;
}

.filter-form input[type="text"] {
  width: 100%;
  border-radius: 8px; /* A more subtle, less "pill-like" radius */
  padding: 0.6rem 1rem;
  font-size: 0.9rem;
  height: 44px; /* Consistent height for all form elements */
  border: 1px solid #dcdcdc; /* A lighter border color */
  background-color: #ffffff;
  box-sizing: border-box;
  transition: all 0.2s ease; /* Add a smooth transition */
}

.filter-form input[type="text"]:focus {
  outline: none;
  border-color: #0d6efd;
  box-shadow: 0 0 0 3px rgba(13, 110, 253, 0.15); /* Elegant focus glow */
}

.filter-form input[type="text"]::placeholder {
  color: #a0a0a0;
  font-weight: 400;
}
</style>

<div class="filter-section">
  <div class="filter-header">üîç Search:</div>
  <form method="get" class="filter-form">
    <input
      type="text"
      name="search"
      class="form-control"
      placeholder="Enter Name or Category..."
      id="search-input"
      data-list="manpowers"
      value="{{ search_query }}"
      aria-label="Search Manpower"
      autocomplete="off" />
    <datalist id="manpowers">
      {% for m in all_manpower %}
        <option value="{{ m.name }} {{ m.category }}">
      {% endfor %}
    </datalist>
  </form>
</div>


<script>
    document.addEventListener('DOMContentLoaded', function() {
        const searchInput = document.getElementById('search-input');
        const datalistId = searchInput.getAttribute('data-list');

        // Initially, the list attribute is not set
        // so no suggestions will show on focus.

        searchInput.addEventListener('input', function() {
            // Check if the input field has any text
            if (this.value.length > 0) {
                // If there's text, add the list attribute
                this.setAttribute('list', datalistId);
            } else {
                // If the input is empty, remove the list attribute
                this.removeAttribute('list');
            }
        });
    });
</script>
